<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.PasswordField?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.image.Image?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.layout.ColumnConstraints?>
<?import javafx.scene.layout.GridPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.RowConstraints?>
<?import javafx.scene.layout.StackPane?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.text.Font?>
<?import javafx.scene.text.Text?>

<StackPane stylesheets="@/css/loginPrincipal.css"
           xmlns="http://javafx.com/javafx/25"
           xmlns:fx="http://javafx.com/fxml/1"
           fx:controller="controller.ControladorPrincipal">

    <HBox spacing="0">

        <!-- PANEL IZQUIERDO (FIJO) -->
        <VBox alignment="TOP_LEFT" prefWidth="420" spacing="30" styleClass="left-container" HBox.hgrow="NEVER">

            <HBox alignment="CENTER" spacing="10" />

            <ImageView fitHeight="170" fitWidth="161" preserveRatio="true">
                <image>
                    <Image url="@/images/logo.png" />
                </image>
            </ImageView>

            <Label styleClass="title" text="Red Social">
                <font>
                    <Font size="36" />
                </font>
            </Label>

            <Text styleClass="description" wrappingWidth="350">
                Bienvenido a la primera red social pensada para quienes viven por eventos, fechas y planes.
                Crea calendarios personalizados, sincroniza tus actividades con amigos, descubre eventos públicos
                y mantén tu agenda viva y conectada.
            </Text>

            <HBox alignment="CENTER_LEFT" spacing="20">
                <!-- Botón que muestra el REGISTRO -->
                <Button fx:id="btnRegistroPrin"
                        onAction="#mostrarRegistro"
                        styleClass="main-button"
                        text="Registro" />
                <!-- Botón que muestra el LOGIN -->
                <Button fx:id="btnLoginPrin"
                        onAction="#mostrarLogin"
                        styleClass="login-button"
                        text="Login" />
            </HBox>

        </VBox>

        <!-- PANEL DERECHO (CONTENEDOR LOGIN/REGISTRO) -->
        <StackPane fx:id="contenedorDerecha"
                   alignment="CENTER"
                   styleClass="right-container"
                   HBox.hgrow="ALWAYS">

            <padding>
                <Insets bottom="40" left="40" right="40" top="40" />
            </padding>

            <!-- =================== PANE LOGIN =================== -->
            <GridPane fx:id="paneLogin"
                      styleClass="login-container"
                      prefHeight="300" prefWidth="450"
                      alignment="CENTER">

                <!-- COLUMNAS -->
                <columnConstraints>
                    <ColumnConstraints prefWidth="80" />
                    <ColumnConstraints prefWidth="220" />
                    <ColumnConstraints prefWidth="80" />
                </columnConstraints>

                <!-- FILAS -->
                <rowConstraints>
                    <RowConstraints prefHeight="40" />
                    <RowConstraints prefHeight="40" />
                    <RowConstraints prefHeight="40" />
                    <RowConstraints prefHeight="40" />
                    <RowConstraints prefHeight="40" />
                    <RowConstraints prefHeight="40" />
                </rowConstraints>

                <children>

                    <!-- AVATAR -->
                    <ImageView fx:id="avatarUsuario"
                               fitHeight="120" fitWidth="120"
                               preserveRatio="true"
                               GridPane.columnIndex="1"
                               GridPane.halignment="CENTER">
                        <image>
                            <Image url="@/images/avatar.png" />
                        </image>
                    </ImageView>

                    <!-- USUARIO -->
                    <TextField fx:id="usuarioLogin"
                               promptText="Usuario"
                               GridPane.columnIndex="1"
                               GridPane.rowIndex="2" />

                    <!-- CONTRASEÑA -->
                    <PasswordField fx:id="contraseñaLogin"
                                   promptText="Contraseña"
                                   GridPane.columnIndex="1"
                                   GridPane.rowIndex="3" />

                    <!-- BOTÓN ACEPTAR LOGIN -->
                    <Button fx:id="btnAceptarLogin"
                            text="Aceptar"
                            GridPane.columnIndex="1"
                            GridPane.rowIndex="4"
                            GridPane.halignment="CENTER">
                        <font>
                            <Font size="14" />
                        </font>
                    </Button>

                    <!-- BOTÓN QUE CAMBIA A REGISTRO -->
                    <Button fx:id="btnIrARegistro"
                            text="Registro"
                            onAction="#mostrarRegistro"
                            GridPane.columnIndex="2"
                            GridPane.rowIndex="5"
                            GridPane.halignment="CENTER">
                        <font>
                            <Font size="14" />
                        </font>
                    </Button>

                </children>

            </GridPane>

            <!-- =================== PANE REGISTRO =================== -->
            <GridPane fx:id="paneRegistro"
                      alignment="CENTER"
                      maxWidth="600"
                      prefWidth="600"
                      styleClass="registro-container"
                      visible="false" managed="false">

                <columnConstraints>
                    <ColumnConstraints prefWidth="150" />
                    <ColumnConstraints prefWidth="250" />
                    <ColumnConstraints prefWidth="150" />
                </columnConstraints>

                <rowConstraints>
                    <RowConstraints prefHeight="40" />
                    <RowConstraints prefHeight="40" />
                    <RowConstraints prefHeight="40" />
                    <RowConstraints prefHeight="40" />
                    <RowConstraints prefHeight="40" />
                    <RowConstraints prefHeight="40" />
                    <RowConstraints prefHeight="40" />
                </rowConstraints>

                <children>

                    <TextField fx:id="correo"
                               promptText="Correo"
                               GridPane.columnIndex="1"
                               GridPane.rowIndex="1" />

                    <TextField fx:id="nombreUsuario"
                               promptText="Nombre Usuario"
                               GridPane.columnIndex="1"
                               GridPane.rowIndex="2" />

                    <PasswordField fx:id="contraseñaRegistro"
                                   promptText="Contraseña"
                                   GridPane.columnIndex="1"
                                   GridPane.rowIndex="3" />

                    <PasswordField fx:id="validarContraseña"
                                   promptText="Validar Contraseña"
                                   GridPane.columnIndex="1"
                                   GridPane.rowIndex="4" />

                    <Button fx:id="btnCambioAvatar"
                            prefWidth="120"
                            text="Cambio avatar"
                            GridPane.columnIndex="1"
                            GridPane.rowIndex="5" />

                    <Button fx:id="btnRegistro"
                            prefWidth="120"
                            text="Registrarse"
                            GridPane.columnIndex="1"
                            GridPane.halignment="LEFT"
                            GridPane.rowIndex="6" />

                    <!-- BOTÓN QUE CAMBIA A LOGIN -->
                    <Button fx:id="btnVolverLogin"
                            prefHeight="13.0"
                            prefWidth="64.0"
                            text="Login"
                            onAction="#mostrarLogin"
                            GridPane.columnIndex="2"
                            GridPane.halignment="CENTER"
                            GridPane.rowIndex="6"
                            GridPane.valignment="CENTER">
                        <font>
                            <Font size="14.0" />
                        </font>
                    </Button>

                </children>

            </GridPane>

        </StackPane>

    </HBox>

</StackPane>
