<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.CheckBox?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.PasswordField?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.image.Image?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.Priority?>
<?import javafx.scene.layout.Region?>
<?import javafx.scene.layout.StackPane?>
<?import javafx.scene.layout.VBox?>

<StackPane stylesheets="@/css/ajustes.css"
           xmlns="http://javafx.com/javafx/25"
           xmlns:fx="http://javafx.com/fxml/1"
           minWidth="0.0" minHeight="0.0" 
           prefHeight="800.0" prefWidth="500.0"
           maxWidth="Infinity" maxHeight="Infinity"
           StackPane.alignment="CENTER"
           fx:id="rootAjustes"
           fx:controller="controller.principal.ControladorAjustes">

    <children>

        <!-- Fondo oscuro encima del background -->
        <Region styleClass="overlay"
                maxWidth="Infinity" maxHeight="Infinity"/>

        <!-- Tarjeta -->
        <VBox alignment="TOP_CENTER"
              spacing="12.0"
              styleClass="tarjeta-ajustes"
              maxWidth="720"
              minWidth="320"
              StackPane.alignment="CENTER">

            <children>

                <ImageView fitHeight="60.0" fitWidth="60.0" pickOnBounds="true" preserveRatio="true">
                    <image>
                        <Image url="@logo.png" />
                    </image>
                </ImageView>

                <Label styleClass="titulo" text="Ajustes de Usuario"/>

                <!-- Sección info personal -->
                <VBox spacing="16.0" styleClass="seccion" maxWidth="Infinity">
                    <children>
                        <Label styleClass="titulo-seccion" text="Información Personal"/>

                        <!-- FILA: usuario -->
                        <HBox alignment="BOTTOM_LEFT" spacing="10.0" styleClass="fila-campo" maxWidth="Infinity">
                            <children>
                                <VBox alignment="CENTER_LEFT" spacing="3.0" HBox.hgrow="ALWAYS" maxWidth="Infinity">
                                    <children>
                                        <Label styleClass="etiqueta-campo" text="Nombre de usuario"/>
                                        <TextField promptText="Nuevo nombre"
                                                   styleClass="campo-texto"
                                                   fx:id="txtNuevoNombre"
                                                   maxWidth="Infinity"/>
                                    </children>
                                </VBox>
                                <Button fx:id="btnCambiarNombre" styleClass="boton-secundario" text="Cambiar"/>
                            </children>
                        </HBox>

                        <!-- FILA: correo -->
                        <HBox alignment="BOTTOM_LEFT" spacing="10.0" styleClass="fila-campo" maxWidth="Infinity">
                            <children>
                                <VBox alignment="CENTER_LEFT" spacing="3.0" HBox.hgrow="ALWAYS" maxWidth="Infinity">
                                    <children>
                                        <Label styleClass="etiqueta-campo" text="Correo electrónico"/>
                                        <TextField promptText="Nuevo correo"
                                                   styleClass="campo-texto"
                                                   fx:id="txtNuevoCorreo"
                                                   maxWidth="Infinity"/>
                                    </children>
                                </VBox>
                                <Button fx:id="btnCambiarCorreo" styleClass="boton-secundario" text="Cambiar"/>
                            </children>
                        </HBox>

                        <!-- FILA: contraseña -->
                        <HBox alignment="BOTTOM_LEFT" spacing="10.0" styleClass="fila-campo" maxWidth="Infinity">
                            <children>
                                <VBox alignment="CENTER_LEFT" spacing="3.0" HBox.hgrow="ALWAYS" maxWidth="Infinity">
                                    <children>
                                        <Label styleClass="etiqueta-campo" text="Contraseña"/>
                                        <PasswordField promptText="Nueva contraseña"
                                                       styleClass="campo-password"
                                                       fx:id="txtNuevaContra"
                                                       maxWidth="Infinity"/>
                                    </children>
                                </VBox>
                                <Button fx:id="btnCambiarContra" styleClass="boton-secundario" text="Cambiar"/>
                            </children>
                        </HBox>

                        <!-- FILA: avatar -->
                        <HBox alignment="BOTTOM_LEFT" spacing="10.0" styleClass="fila-campo" maxWidth="Infinity">
                            <children>
                                <VBox alignment="CENTER_LEFT" spacing="3.0" HBox.hgrow="ALWAYS" maxWidth="Infinity">
                                    <children>
                                        <Label styleClass="etiqueta-campo" text="Avatar"/>
                                        <Button fx:id="btnSeleccionarImg" styleClass="boton-secundario" text="Seleccionar imagen"/>
                                    </children>
                                </VBox>
                                <Button fx:id="btnCambiarAvatar" styleClass="boton-secundario" text="Cambiar"/>
                            </children>
                        </HBox>

                    </children>
                </VBox>

                <!-- Preferencias -->
                <VBox alignment="TOP_LEFT" spacing="12.0" styleClass="seccion" maxWidth="Infinity">
                    <children>
                        <Label styleClass="titulo-seccion" text="Preferencias"/>
                        <CheckBox styleClass="interruptor" text="Desactivar sonidos"/>
                        <CheckBox styleClass="interruptor" text="Desactivar notificaciones"/>
                        <CheckBox styleClass="interruptor" text="Recordar sesión"/>
                    </children>
                </VBox>

                <!-- Botones -->
                <HBox alignment="CENTER" spacing="15.0" maxWidth="Infinity">
                    <children>
                        <Button styleClass="boton-principal" text="Guardar cambios"/>
                        <Button fx:id="btnCancelarAjustes" styleClass="boton-secundario" text="Cancelar"/>
                    </children>
                </HBox>

            </children>
        </VBox>

    </children>
</StackPane>
