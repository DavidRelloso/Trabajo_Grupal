<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.ComboBox?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.ScrollPane?>
<?import javafx.scene.control.Tooltip?>
<?import javafx.scene.effect.Glow?>
<?import javafx.scene.image.Image?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.layout.AnchorPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.Region?>
<?import javafx.scene.layout.StackPane?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.text.Font?>

<StackPane prefHeight="720.0" prefWidth="1280.0"
           stylesheets="@/css/diario/diarioPersonal.css" styleClass="root"
           xmlns="http://javafx.com/javafx/25" xmlns:fx="http://javafx.com/fxml/1"
           fx:controller="controller.diario.ControladorDiarioPersonal">
    <children>
        <VBox spacing="0.0" VBox.vgrow="ALWAYS">
            <children>

                <!-- BARRA SUPERIOR -->
                <HBox prefHeight="74.0" spacing="16.0" styleClass="top-bar">
                    <padding>
                        <Insets top="8.0" right="16.0" bottom="8.0" left="16.0"/>
                    </padding>
                    <children>
                        <Button styleClass="logo-btn">
                            <graphic>
                                <ImageView fitHeight="54.0" fitWidth="226.0" preserveRatio="true">
                                    <image>
                                        <Image url="/images/logoLargo.png"/>
                                    </image>
                                </ImageView>
                            </graphic>
                        </Button>
                        <Region HBox.hgrow="ALWAYS"/>
                        <Button prefHeight="62.0" prefWidth="152.0"
                                styleClass="tab-btn selected" text="Añadir Día">
                            <font>
                                <Font size="20.0"/>
                            </font>
                        </Button>
                        <Button prefHeight="62.0" prefWidth="188.0"
                                styleClass="tab-btn selected" text="Actividades">
                            <font>
                                <Font size="20.0"/>
                            </font>
                        </Button>
                        <HBox alignment="CENTER_LEFT" spacing="8.0">
                            <children>
                                <Label styleClass="categoria-label" text="CATEGORÍA:">
                                    <font>
                                        <Font size="18.0"/>
                                    </font>
                                </Label>
                                <ComboBox prefHeight="44.0" prefWidth="229.0"
                                          promptText="Seleccionar Categoria"/>
                            </children>
                        </HBox>
                        <Button fx:id="openOffcanvas" styleClass="menu-btn">
                            <graphic>
                                <Label styleClass="menu-icon" text="≡">
                                    <font>
                                        <Font size="70.0"/>
                                    </font>
                                    <effect>
                                        <Glow level="0.66"/>
                                    </effect>
                                </Label>
                            </graphic>
                            <tooltip>
                                <Tooltip text="Menú"/>
                            </tooltip>
                        </Button>
                    </children>
                </HBox>

                <!-- ZONA CENTRAL (COLUMNAS) -->
                <VBox spacing="12.0" styleClass="columns" VBox.vgrow="ALWAYS">
                    <padding>
                        <Insets top="12.0" right="16.0" bottom="12.0" left="16.0"/>
                    </padding>
                    <children>

                        <!-- ESPACIO SUPERIOR SIN USAR PADDING -->
                        <Region prefHeight="24.0"/>

                        <!-- SCROLL PANE QUE CONTIENE LOS BLOQUES DE NOTAS -->
                        <ScrollPane fx:id="scrollDias"
                                    fitToHeight="true"
                                    VBox.vgrow="ALWAYS"
                                    hbarPolicy="AS_NEEDED"
                                    pannable="true"
                                    styleClass="scroll-dias"
                                    vbarPolicy="NEVER">
                            <content>

                                <!-- HBOX CON LAS COLUMNAS DE DÍAS + ESPACIOS LATERALES -->
                                <HBox fx:id="boxDias"
                                      spacing="16.0">

                                    <children>

                                        <!-- ESPACIO IZQUIERDO SIN USAR PADDING -->
                                        <Region prefWidth="24.0"/>

                                        <!-- COLUMNA DÍA 1 -->
                                        <VBox maxWidth="300.0" minWidth="300.0" prefWidth="300.0"
                                              spacing="6.0" styleClass="col" maxHeight="Infinity">
                                            <children>
                                                <HBox spacing="8.0">
                                                    <children>
                                                        <Label styleClass="col-title" text="DÍA 1"/>
                                                        <Region HBox.hgrow="ALWAYS"/>
                                                        <Button styleClass="add-btn" text="+"/>
                                                    </children>
                                                </HBox>

                                                <!-- SCROLL DE NOTAS (RELLENA TODA LA ALTURA) -->
                                                <ScrollPane fitToWidth="true"
                                                            hbarPolicy="NEVER"
                                                            styleClass="list-scroll"
                                                            VBox.vgrow="ALWAYS">
                                                    <content>
                                                        <!-- LISTA DE TARJETAS -->
                                                        <VBox spacing="12.0">
                                                            <children>

                                                                <!-- TARJETA 1 -->
                                                                <VBox styleClass="card" spacing="6.0"
                                                                      maxWidth="Infinity">
                                                                    <children>
                                                                        <!-- Fila superior: título / categoría / hora -->
                                                                        <HBox spacing="8.0">
                                                                            <children>
                                                                                <Label styleClass="card-title" text="Título"/>
                                                                                <Label styleClass="card-title" text="Categoría"/>
                                                                                <Region HBox.hgrow="ALWAYS"/>
                                                                                <Label styleClass="card-hour" text="Hora"/>
                                                                            </children>
                                                                        </HBox>

                                                                        <!-- Texto (crece y hace crecer la tarjeta) -->
                                                                        <Label styleClass="card-text"
                                                                               text="Texto de la nota con más contenido. Esto se hace más grande y el panel crece automáticamente sin cortar nada."
                                                                               wrapText="true"
                                                                               maxWidth="Infinity"/>

                                                                        <!-- Botón eliminar abajo a la derecha -->
                                                                        <HBox alignment="BOTTOM_RIGHT">
                                                                            <children>
                                                                                <Button styleClass="delete-btn" text="Eliminar"/>
                                                                            </children>
                                                                        </HBox>
                                                                    </children>
                                                                </VBox>

                                                                <!-- TARJETA 2 -->
                                                                <VBox styleClass="card" spacing="6.0"
                                                                      maxWidth="Infinity">
                                                                    <children>
                                                                        <HBox spacing="8.0">
                                                                            <children>
                                                                                <Label styleClass="card-title" text="Título 2"/>
                                                                                <Label styleClass="card-title" text="Categoría 2"/>
                                                                                <Region HBox.hgrow="ALWAYS"/>
                                                                                <Label styleClass="card-hour" text="10:30"/>
                                                                            </children>
                                                                        </HBox>

                                                                        <Label styleClass="card-text"
                                                                               text="Un texto aún más largo que debería provocar que esta tarjeta aumente considerablemente su altura para mostrar todo el contenido sin problemas. Puedes escribir lo que quieras aquí."
                                                                               wrapText="true"
                                                                               maxWidth="Infinity"/>

                                                                        <HBox alignment="BOTTOM_RIGHT">
                                                                            <children>
                                                                                <Button styleClass="delete-btn" text="Eliminar"/>
                                                                            </children>
                                                                        </HBox>
                                                                    </children>
                                                                </VBox>

                                                                <!-- TARJETA 3 -->
                                                                <VBox styleClass="card" spacing="6.0"
                                                                      maxWidth="Infinity">
                                                                    <children>
                                                                        <HBox spacing="8.0">
                                                                            <children>
                                                                                <Label styleClass="card-title" text="Título 3"/>
                                                                                <Label styleClass="card-title" text="Categoría 3"/>
                                                                                <Region HBox.hgrow="ALWAYS"/>
                                                                                <Label styleClass="card-hour" text="12:00"/>
                                                                            </children>
                                                                        </HBox>

                                                                        <Label styleClass="card-text"
                                                                               text="Otra nota larga para probar cómo crece la tarjeta en altura y se adapta al contenido."
                                                                               wrapText="true"
                                                                               maxWidth="Infinity"/>

                                                                        <HBox alignment="BOTTOM_RIGHT">
                                                                            <children>
                                                                                <Button styleClass="delete-btn" text="Eliminar"/>
                                                                            </children>
                                                                        </HBox>
                                                                    </children>
                                                                </VBox>

                                                            </children>
                                                        </VBox>
                                                    </content>
                                                </ScrollPane>
                                            </children>
                                        </VBox>

                                        <!-- SEGUNDA COLUMNA DE EJEMPLO (DÍA 2) -->
                                        <VBox maxWidth="300.0" minWidth="300.0" prefWidth="300.0"
                                              spacing="6.0" styleClass="col" maxHeight="Infinity">
                                            <children>
                                                <HBox spacing="8.0">
                                                    <children>
                                                        <Label styleClass="col-title" text="DÍA 2"/>
                                                        <Region HBox.hgrow="ALWAYS"/>
                                                        <Button styleClass="add-btn" text="+"/>
                                                    </children>
                                                </HBox>

                                                <ScrollPane fitToWidth="true"
                                                            hbarPolicy="NEVER"
                                                            styleClass="list-scroll"
                                                            VBox.vgrow="ALWAYS">
                                                    <content>
                                                        <VBox spacing="12.0">
                                                            <children>
                                                                <VBox styleClass="card" spacing="6.0"
                                                                      maxWidth="Infinity">
                                                                    <children>
                                                                        <HBox spacing="8.0">
                                                                            <children>
                                                                                <Label styleClass="card-title" text="Título"/>
                                                                                <Label styleClass="card-title" text="Categoría"/>
                                                                                <Region HBox.hgrow="ALWAYS"/>
                                                                                <Label styleClass="card-hour" text="Hora"/>
                                                                            </children>
                                                                        </HBox>
                                                                        <Label styleClass="card-text"
                                                                               text="Texto de ejemplo para la columna del Día 2."
                                                                               wrapText="true"
                                                                               maxWidth="Infinity"/>
                                                                        <HBox alignment="BOTTOM_RIGHT">
                                                                            <children>
                                                                                <Button styleClass="delete-btn" text="Eliminar"/>
                                                                            </children>
                                                                        </HBox>
                                                                    </children>
                                                                </VBox>
                                                            </children>
                                                        </VBox>
                                                    </content>
                                                </ScrollPane>
                                            </children>
                                        </VBox>

                                        <!-- ESPACIO DERECHO FLEXIBLE -->
                                        <Region HBox.hgrow="ALWAYS"/>

                                    </children>
                                </HBox>
                            </content>
                        </ScrollPane>

                        <!-- ESPACIO INFERIOR SIN USAR PADDING -->
                        <Region prefHeight="24.0"/>

                    </children>
                </VBox>

                <!-- BARRA INFERIOR -->
                <HBox spacing="8.0" styleClass="bottom-bar">
                    <padding>
                        <Insets top="6.0" right="12.0" bottom="6.0" left="12.0"/>
                    </padding>
                    <children>
                        <Label prefHeight="15.0" prefWidth="613.0"
                               styleClass="status-text"
                               text="REPOSITORIO - (USUARIO) EN CATEGORÍA (X)"
                               textAlignment="CENTER"/>
                    </children>
                </HBox>
            </children>
        </VBox>

        <!-- PANEL LATERAL (OFFCANVAS) -->
        <StackPane fx:id="offcanvas"
                   maxWidth="300.0" prefWidth="300.0"
                   styleClass="offcanvas-panel"
                   translateX="300.0"
                   StackPane.alignment="CENTER_RIGHT">
            <children>
                <VBox spacing="22.0" styleClass="offcanvas-content">
                    <padding>
                        <Insets top="26.0" right="20.0" bottom="26.0" left="20.0"/>
                    </padding>
                    <children>
                        <Button fx:id="closeOffcanvas" styleClass="close-btn" text="X"/>
                        <VBox alignment="CENTER" spacing="10.0">
                            <children>
                                <ImageView fitHeight="120.0" fitWidth="120.0" preserveRatio="true">
                                    <image>
                                        <Image url="/images/imagenPerfil.png"/>
                                    </image>
                                </ImageView>
                                <Label styleClass="off-item" text="Nombre de Usuario"/>
                            </children>
                        </VBox>
                        <Label styleClass="off-item" text="Mi Diario"/>
                        <Label styleClass="off-item" text="Amigos"/>
                        <Label styleClass="off-item" text="Ajustes"/>
                        <Region VBox.vgrow="ALWAYS"/>
                        <Button styleClass="logout-btn" text="Cerrar sesión"/>
                    </children>
                </VBox>
            </children>
        </StackPane>
    </children>
</StackPane>
